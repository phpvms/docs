(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{111:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return d}));var n=a(0),i=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var b=i.a.createContext({}),p=function(e){var t=i.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},s=function(e){var t=p(e.components);return i.a.createElement(b.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},m=i.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,b=c(e,["components","mdxType","originalType","parentName"]),s=p(a),m=n,d=s["".concat(l,".").concat(m)]||s[m]||u[m]||r;return a?i.a.createElement(d,o(o({ref:t},b),{},{components:a})):i.a.createElement(d,o({ref:t},b))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,l=new Array(r);l[0]=m;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var b=2;b<r;b++)l[b]=a[b];return i.a.createElement.apply(null,l)}return i.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"},60:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return o})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return p}));var n=a(2),i=a(7),r=(a(0),a(111)),l={id:"configmaps",title:"Config Maps"},o={unversionedId:"acars/configmaps",id:"acars/configmaps",isDocsHomePage:!1,title:"Config Maps",description:'Since developers often use custom offsets or datarefs, and not the defaults, having configmaps allows you to map an aircraft feature (landing lights, etc) to a "feature", which tells ACARS where to read the data for those features. They\'re stored in the configmaps directory.',source:"@site/docs/acars/configmaps.md",slug:"/acars/configmaps",permalink:"/acars/configmaps",editUrl:"https://github.com/phpvms/docs/tree/master/docs/acars/configmaps.md",version:"current",sidebar:"docs",previous:{title:"Flight Details",permalink:"/acars/flight"},next:{title:"Getting Help",permalink:"/help"}},c=[{value:"Anatomy of a ConfigMap",id:"anatomy-of-a-configmap",children:[]},{value:"Features",id:"features",children:[{value:"Mapping data to a feature",id:"mapping-data-to-a-feature",children:[]}]},{value:"Creating a config map",id:"creating-a-config-map",children:[]}],b={rightToc:c};function p(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,'Since developers often use custom offsets or datarefs, and not the defaults, having configmaps allows you to map an aircraft feature (landing lights, etc) to a "feature", which tells ACARS where to read the data for those features. They\'re stored in the ',Object(r.b)("inlineCode",{parentName:"p"},"configmaps")," directory."),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Config maps are now only for FSX/P3D or X-Plane."))),Object(r.b)("h2",{id:"anatomy-of-a-configmap"},"Anatomy of a ConfigMap"),Object(r.b)("p",null,"A config map is an XML file which looks like this:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-xml",metastring:'title="configmaps/FlightFactorA320.xml (truncated)"',title:'"configmaps/FlightFactorA320.xml','(truncated)"':!0}),'<?xml version="1.0" encoding="utf-8" ?>\n<Rules>\n  <Rule Simulator="X-Plane" TitleContains="FlightFactor A320">\n    \x3c!-- ... --\x3e\n    <LandingLights>\n      <Key Type="Int" Key="a320/Overhead/LightLandL" Value="1|2"/>\n      <Key Type="Int" Key="a320/Overhead/LightLandR" Value="1|2"/>\n    </LandingLights>\n    \x3c!-- ... --\x3e\n  </Rule>\n</Rules>\n')),Object(r.b)("p",null,"A rule defines:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Who the rule is for",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"The simulator it's for (either ",Object(r.b)("inlineCode",{parentName:"li"},"X-Plane")," or ",Object(r.b)("inlineCode",{parentName:"li"},"FSX/Prepar3d"),")"),Object(r.b)("li",{parentName:"ul"},'The aircraft title contains. This is how it\'s filtered. It must be broad but also specific to make sure it "catches" the right plane type.',Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},'Each word is looked for and it\'s AND\'d. In the example above, "FlightFactor" and "A320" must be present'),Object(r.b)("li",{parentName:"ul"},"For FSX/P3d, the value looked at is the aircraft title field, offset ",Object(r.b)("inlineCode",{parentName:"li"},"0x3D00")),Object(r.b)("li",{parentName:"ul"},"For X-Plane, the value looked at is ",Object(r.b)("inlineCode",{parentName:"li"},"sim/aircraft/view/acf_descrip")))))),Object(r.b)("li",{parentName:"ol"},"The feature (see below)",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},'The maps - a group of datarefs or offsets which constitute that feature being "on" or "enabled"')))),Object(r.b)("p",null,'In the above example, for the FlightFactor A320, the landing lights are controlled by two datarefs, both of which the values need to be 1 or 2 for the landing lights to be considered "on".'),Object(r.b)("h2",{id:"features"},"Features"),Object(r.b)("p",null,"The base rules and rule types are in the ",Object(r.b)("inlineCode",{parentName:"p"},"configmaps/ConfigMap.xml")," file. This list may be expanded in the future."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"BeaconLights"),Object(r.b)("li",{parentName:"ul"},"LandingLights"),Object(r.b)("li",{parentName:"ul"},"NavigationLights"),Object(r.b)("li",{parentName:"ul"},"StrobeLights"),Object(r.b)("li",{parentName:"ul"},"TaxiLight"),Object(r.b)("li",{parentName:"ul"},"WingLight")),Object(r.b)("h3",{id:"mapping-data-to-a-feature"},"Mapping data to a feature"),Object(r.b)("p",null,"Each ",Object(r.b)("inlineCode",{parentName:"p"},"Key")," consists a ",Object(r.b)("inlineCode",{parentName:"p"},"Type"),", ",Object(r.b)("inlineCode",{parentName:"p"},"Key")," and a ",Object(r.b)("inlineCode",{parentName:"p"},"Value"),'. These are all "AND" together, so every value in the feature must evaluate to true.'),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-xml",metastring:"title=Example Rule",title:"Example",Rule:!0}),'<Key Type="Int" Key="a320/Overhead/LightLandL" Value="1|2"/>\n')),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("inlineCode",{parentName:"li"},"Type"),", which can be:",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"Bool")," - a ",Object(r.b)("inlineCode",{parentName:"li"},"Value")," is not required, the sim returns a ",Object(r.b)("inlineCode",{parentName:"li"},"1")," or ",Object(r.b)("inlineCode",{parentName:"li"},"0")," for this value"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"Byte")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"Number"),"/",Object(r.b)("inlineCode",{parentName:"li"},"Double"),"/",Object(r.b)("inlineCode",{parentName:"li"},"Float")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"Int")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"Short")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"Mask")))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("inlineCode",{parentName:"li"},"Key")," - This is where ACARS will look to get the value. ",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"FSX/Prepar3d")," - This is an FSUIPC offset. LVars aren't supported, though you can use LINDA and FSUIPC to map an LVAR to a custom offset, and read it here. This information is up to the aircraft developer to provide."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"X-Plane")," - This is a dataref value"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("inlineCode",{parentName:"li"},"Value")," ",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"This is what value to look for, in the case of a non-boolean type. You can use the OR operator (",Object(r.b)("inlineCode",{parentName:"li"},"|"),") to separate multiple values")))),Object(r.b)("h4",{id:"examples"},"Examples"),Object(r.b)("p",null,"In this example, both of the datarefs, in this last, the left and right landing lights, must have a value of ",Object(r.b)("inlineCode",{parentName:"p"},"1")," or ",Object(r.b)("inlineCode",{parentName:"p"},"2"),' in order for the landing lights to be considered "on"'),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-xml"}),'<LandingLights>\n    <Key Type="Int" Key="a320/Overhead/LightLandL" Value="1|2"/>\n    <Key Type="Int" Key="a320/Overhead/LightLandR" Value="1|2"/>\n</LandingLights>\n')),Object(r.b)("p",null,"In this example for FSUIPC, the offsets use a bitmask to consider the beacon lights being on:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-xml"}),'<BeaconLights>\n    <Key Type="Mask" Key="0x0D0C" Value="2"/>\n</BeaconLights>\n')),Object(r.b)("h2",{id:"creating-a-config-map"},"Creating a config map"),Object(r.b)("p",null,"To create a config map, you can copy one of the existing files and modify it."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The file must be in the ",Object(r.b)("inlineCode",{parentName:"li"},"configmaps/")," directory"),Object(r.b)("li",{parentName:"ul"},"Name the file as specific as possible"),Object(r.b)("li",{parentName:"ul"},"Don't edit existing ones, they'll get overwritten")))}p.isMDXComponent=!0}}]);