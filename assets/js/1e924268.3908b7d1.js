"use strict";(self.webpackChunkphpvms_docs=self.webpackChunkphpvms_docs||[]).push([[9232],{1616:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/06-va-information-30612d3a575d2324f2bf7562e3d20958.png"},2347:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"installation/installation","title":"Installation","description":"The installation requires a few steps:","source":"@site/docs/installation/installation.md","sourceDirName":"installation","slug":"/installation/","permalink":"/installation/","draft":false,"unlisted":false,"editUrl":"https://github.com/phpvms/docs/tree/master/docs/installation/installation.md","tags":[],"version":"current","frontMatter":{"id":"installation","title":"Installation","sidebar_label":"Installation"},"sidebar":"docs","previous":{"title":"VHost Configuration","permalink":"/installation/vhost"},"next":{"title":"Upgrading from 5.x","permalink":"/installation/legacy-upgrade"}}');var i=s(4848),a=s(8453);const l={id:"installation",title:"Installation",sidebar_label:"Installation"},r=void 0,o={},d=[{value:"1. File Permissions",id:"1-file-permissions",level:2},{value:"2. Database Setup",id:"2-database-setup",level:2},{value:"Using the cPanel Database Wizard",id:"using-the-cpanel-database-wizard",level:3},{value:"3. Composer Install",id:"3-composer-install",level:2},{value:"4. Running the Installer",id:"4-running-the-installer",level:2},{value:"New Install",id:"new-install",level:2},{value:"Upgrading from legacy",id:"upgrading-from-legacy",level:3},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"The installation requires a few steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"File Permissions - some folders are written into and their permissions need\nto be configured properly"}),"\n",(0,i.jsx)(n.li,{children:"Database Setup - right now, only MySQL (or its offshoots, like MariaDB or\nPercona are supported). Create the credentials for the database using either\nthe command line or the cPanel Database Wizard."}),"\n",(0,i.jsx)(n.li,{children:'Composer Install - only if you have cloned it from git or downloaded the\n"raw" zip/tar and not a release or distributed version'}),"\n",(0,i.jsx)(n.li,{children:"Running the installer - This is a web interface, through which you can also\nimport your older phpVMS 2.x or 5.x install"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"1-file-permissions",children:"1. File Permissions"}),"\n",(0,i.jsxs)(n.p,{children:["Adjust your file permissions to have the proper owner, but also read/write\npermissions (",(0,i.jsx)(n.code,{children:"775"}),") for:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"bootstrap"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"bootstrap/cache"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"storage/logs"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"storage/framework/cache"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"storage/framework/session"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"storage/framework/views"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-database-setup",children:"2. Database Setup"}),"\n",(0,i.jsx)(n.p,{children:"Before running the install, you need to configure the database with the database\nitself and the credentials. Refer to your hosts documentation for specifics -\nthe database name, username and password here are just examples, replace them\nwith your own. This example is for MySQL:"}),"\n",(0,i.jsxs)(n.admonition,{title:"Character Set and Collation If you're using a non-English language,",type:"caution",children:[(0,i.jsxs)(n.p,{children:["make sure that you're setting the ",(0,i.jsx)(n.code,{children:"CHARACTER SET"})," and ",(0,i.jsx)(n.code,{children:"COLLATE"})," properly (see\nbelow for the utf8 values). By default it's ",(0,i.jsx)(n.code,{children:"latin"})," which would result in\ncorrupted characters :::"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE DATABASE IF NOT EXISTS `phpvms` CHARACTER SET UTF8 COLLATE utf8_unicode_ci;\nCREATE USER 'phpvms'@'localhost' IDENTIFIED BY 'password';\nGRANT ALL PRIVILEGES ON phpvms.* TO 'phpvms'@'localhost';\nFLUSH PRIVILEGES;\n"})}),(0,i.jsx)(n.h3,{id:"using-the-cpanel-database-wizard",children:"Using the cPanel Database Wizard"}),(0,i.jsx)(n.p,{children:"You can also use the cPanel Wizard to create the credentials prior to install"}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(4165).A+"",width:"640",height:"148"})}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h2,{id:"3-composer-install",children:"3. Composer Install"}),(0,i.jsx)(n.admonition,{title:"If you've downloaded a release or dev tar/zip from the downloads",type:"info",children:(0,i.jsx)(n.p,{children:"section, you don't need this. You only need this if you've cloned the repository"})})]}),"\n",(0,i.jsxs)(n.p,{children:["Update the composer dependencies; this will download and update the ",(0,i.jsx)(n.code,{children:"vendor"}),"\nfolder:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd /path/to/phpvms\ncomposer install\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"4-running-the-installer",children:"4. Running the Installer"}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.mdxAdmonitionTitle,{children:["There isn't a ",(0,i.jsx)(n.code,{children:"setup"})," folder in the tar file. It's done as a Laravel"]}),(0,i.jsx)(n.p,{children:"route, which serves to see that your webserver/htaccess files are working\ncorrectly. :::"}),(0,i.jsx)(n.p,{children:"Once you go to your site, you'll see a page like this, click to proceed to the\ninstaller."}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:s(5977).A+"",width:"640",height:"480"})," ",(0,i.jsx)(n.img,{src:s(9183).A+"",width:"640",height:"480"})]}),(0,i.jsx)(n.p,{children:"After clicking next, you'll see the requirements check page. The installer will\nonly let you proceeed if all of the requirements are met."}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(4929).A+"",width:"640",height:"701"})}),(0,i.jsxs)(n.p,{children:["The next page brings you to the database setup page. Select ",(0,i.jsx)(n.code,{children:"MySQL"})," (",(0,i.jsx)(n.code,{children:"sqlite"}),"\nrequires some extra configuration)"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Enter the name of your site and the URL"}),"\n",(0,i.jsxs)(n.li,{children:["Enter your database credentials.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"These are the credentials created above"}),"\n",(0,i.jsxs)(n.li,{children:["Contact your host for the correct database server address. Usually it is\n",(0,i.jsx)(n.code,{children:"localhost"})," or ",(0,i.jsx)(n.code,{children:"127.0.0.1"})," but it might be different"]}),"\n",(0,i.jsx)(n.li,{children:'You can test to make sure they\'re working by clicking the "Test Database\nCredentials" button'}),"\n"]}),"\n"]}),"\n"]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(4395).A+"",width:"640",height:"554"})}),(0,i.jsx)(n.p,{children:'After clicking "Setup Database", you\'ll see the installation screen. Hit next to\nproceed:'}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(5505).A+"",width:"640",height:"1014"})}),(0,i.jsx)(n.h2,{id:"new-install",children:"New Install"}),(0,i.jsx)(n.p,{children:"You'll be brought to the initial setup screen. There is an option here to update\nyourCreate your first airline here, along with your user and password. This will\nbe automatically made as an admin user."}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(1616).A+"",width:"640",height:"579"})}),(0,i.jsx)(n.p,{children:"After setting that up, you'll see the completion screen, where you can click\nnext and proceed to login. You'll see your dashboard after logging in, and the\ninstallation is complete!"}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(7646).A+"",width:"640",height:"480"})}),(0,i.jsx)(n.h3,{id:"upgrading-from-legacy",children:"Upgrading from legacy"}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(8103).A+"",width:"640",height:"502"})}),(0,i.jsx)(n.p,{children:"For the database information, enter the credentials and information to your old\ndatabase"}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Read ",(0,i.jsx)(n.a,{href:"/config/files",children:"about the configuration files (email, etc)"}),"."]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/installation/cron",children:"Setup the cron task on your server"})}),"\n"]})]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},4165:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/cpanel-db-1-07b48d74202a8b441d073ff050a3fee4.png"},4395:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/04-database-page-d380b4de268cf84a623a76ec8e6bb80a.png"},4929:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/03-requirements-a154b283134f17994bacfcb9c3b76519.png"},5505:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/05-database-installed-672f9990a191d43029a4865b1ec0c1dc.png"},5977:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/01-not-installed-1e43cc853240c42a1fffb2c1999cfbef.png"},7646:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/10-completed-20140599382303cda078423a19d653ef.png"},8103:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/07-importer-664f3ff1e798233e64d0f27d017f7392.png"},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>r});var t=s(6540);const i={},a=t.createContext(i);function l(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(a.Provider,{value:n},e.children)}},9183:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/02-installer-start-a5cf2fef6f6b37cb06d73ee16317ccd1.png"}}]);